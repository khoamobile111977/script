local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local HttpService = game:GetService("HttpService")

local player = Players.LocalPlayer
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
local frame = Instance.new("Frame", screenGui)
local textBox = Instance.new("TextBox", frame)
local joinButton = Instance.new("TextButton", frame)
local joinLessPopulatedButton = Instance.new("TextButton", frame)

-- ScreenGui properties
screenGui.Name = "JoinServerGui"
screenGui.ResetOnSpawn = false

-- Frame properties
frame.Size = UDim2.new(0, 250, 0, 120)
frame.Position = UDim2.new(0.5, -125, 0.5, -60)
frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
frame.BorderSizePixel = 0
frame.BackgroundTransparency = 0.2
frame.ClipsDescendants = true

-- TextBox properties
textBox.Size = UDim2.new(0, 230, 0, 30)
textBox.Position = UDim2.new(0.5, -115, 0, 10)
textBox.PlaceholderText = "Enter Job ID"
textBox.Text = ""
textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
textBox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
textBox.BorderSizePixel = 0
textBox.Font = Enum.Font.SourceSans
textBox.TextSize = 18

-- JoinButton properties
joinButton.Size = UDim2.new(0, 230, 0, 30)
joinButton.Position = UDim2.new(0.5, -115, 0, 50)
joinButton.Text = "Join Server"
joinButton.TextColor3 = Color3.fromRGB(255, 255, 255)
joinButton.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
joinButton.BorderSizePixel = 0
joinButton.Font = Enum.Font.SourceSans
joinButton.TextSize = 18

-- JoinLessPopulatedButton properties
joinLessPopulatedButton.Size = UDim2.new(0, 230, 0, 30)
joinLessPopulatedButton.Position = UDim2.new(0.5, -115, 0, 90)
joinLessPopulatedButton.Text = "Join Less Populated Server"
joinLessPopulatedButton.TextColor3 = Color3.fromRGB(255, 255, 255)
joinLessPopulatedButton.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
joinLessPopulatedButton.BorderSizePixel = 0
joinLessPopulatedButton.Font = Enum.Font.SourceSans
joinLessPopulatedButton.TextSize = 18

-- JoinButton functionality
joinButton.MouseButton1Click:Connect(function()
    local jobId = textBox.Text
    if jobId and jobId ~= "" then
        TeleportService:TeleportToPlaceInstance(game.PlaceId, jobId, player)
    end
end)

-- JoinLessPopulatedButton functionality
joinLessPopulatedButton.MouseButton1Click:Connect(function()
    local servers = HttpService:JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Asc&limit=100"))
    for _, server in ipairs(servers.data) do
        if server.playing >= 1 and server.playing <= 3 then
            TeleportService:TeleportToPlaceInstance(game.PlaceId, server.id, player)
            break
        end
    end
end)

-- Tween animation for UI appearance
local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local tween = TweenService:Create(frame, tweenInfo, {Position = UDim2.new(0.5, -125, 0.5, -60)})
tween:Play()
