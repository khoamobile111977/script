local areas = {
    "Colosseum", "Desert", "Fountain", "Magma", "MobBoss", "Pirate",
    "Prison", "Sky", "SkyArea1", "SkyArea2", "Town"
}

local function teleportToChest(area, index)
    local chestPath = workspace.Map:FindFirstChild(area)
    if chestPath then
        local chests = chestPath:FindFirstChild("Chests")
        if chests then
            local targetChest = chests:GetChildren()[index]
            if targetChest and targetChest:IsA("BasePart") then
                lp.Character.HumanoidRootPart.CFrame = targetChest.CFrame
            end
        end
    end
end

local function mainLoop()
    local count = 0
    while true do
        local startTime = tick()
        for _, area in ipairs(areas) do
            for index = 1, 10 do
                teleportToChest(area, index)
                count = count + 1
                wait(0.01)

                if count >= 1000 then
                    resetCharacter()
                    count = 0
                    wait(10)
                    break
                end
            end
            if count == 0 then
                break
            end
        end
    end
end

mainLoop()
