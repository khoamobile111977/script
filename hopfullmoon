local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")

local function getServers()
    local url = "https://games.roblox.com/v1/games/2753915549/servers/Public?sortOrder=Asc&limit=100"
    local response = HttpService:GetAsync(url)
    local data = HttpService:JSONDecode(response)
    return data.data
end

local function isFullMoon()
    -- This function should contain the logic to determine if it's a full moon in the game
    -- Placeholder logic for demonstration purposes
    return math.random(1, 10) == 1
end

local function switchToFullMoonServer()
    local servers = getServers()
    for _, server in ipairs(servers) do
        if isFullMoon() then
            TeleportService:TeleportToPlaceInstance(game.PlaceId, server.id, Players.LocalPlayer)
            break
        end
    end
end

local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 200, 0, 50)
button.Position = UDim2.new(0.5, -100, 0.5, -25)
button.Text = "Switch to Full Moon Server"
button.Parent = game.Players.LocalPlayer.PlayerGui:WaitForChild("ScreenGui")

button.MouseButton1Click:Connect(switchToFullMoonServer)
